wdf$Day <- as.numeric(format(wdf$Date1,'%d'))
wdf$Month <- as.numeric(format(wdf$Date1,'%m'))
wdf$Date <- as.Date(paste(wdf$Year,wdf$Month,wdf$Day,sep="-"))
# wdf$MaxTemp.degC. <- fahrenheit.to.celsius(wdf$MaxTemp.degF., round = 2)
# wdf$MinTemp.degC. <- fahrenheit.to.celsius(wdf$MinTemp.degF., round = 2)
# wdf$MeanTemp.degC. <- (wdf$MaxTemp.degC.+wdf$MinTemp.degC.)/2
wdf$Precip.mm. <- inches_to_metric(wdf$Precip.inches.,"mm",round = 2)
# setDT(wdf)
wdf.yr<-wdf[,.(sumPrecip=sum(Precip.mm.,na.rm=T)),by=.(Year)]
# ggplot(wdf.yr[wdf.yr$Year>2000,],aes(Year,sumPrecip))+geom_point()+geom_line(stat="summary")+geom_point(data=bacfin,aes(Year,plantedinplot.Andge*10),stat="summary",col="red")+geom_point(data=bacfin,aes(Year,plantedinplot.Petpu*10),stat="summary",col="blue")+geom_line(data=bacfin,aes(Year,plantedinplot.Andge*10,group=HeatOrd),stat="summary",col="red")+geom_line(data=bacfin,aes(Year,plantedinplot.Petpu*10,group=HeatOrd),stat="summary",col="blue")+geom_line(data=bb[!bb$Year%in%c(1996:2000,2009),],aes(Year,Andropogon.gerardi.g.m2.*10),stat="summary",col="yellow")
# plot(wdf$MaxTemp.degF.~wdf$Date)
# wdf.rel <- wdf[wdf$Year>(min(bb.bacplots$Year)-2),]
# plot(wdf.rel$MaxTemp.degF.~wdf.rel$Date)
###e120 through 2018
bb <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120mega96-19.csv")
names(bb)
bb <- bb[bb$Month>6,]
table(bb$Month,bb$Year)
tapply(bb$AbvBioAnnProd,bb$Year,mean,na.rm=T)
tapply(bb$AbvStandStock,bb$Year,mean,na.rm=T)
bb$Year <- as.numeric(bb$Year)
bb$AGB <- bb$AbvBioAnnProd
bb$DivTrt <- as.factor(bb$NumSp)
ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
ggplot(bb,aes(Year,AGB))+geom_line(stat="summary")+geom_point(stat="summary")
ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point()+labs(title="e120")
bblag <- bb
bblag$YearLag <- as.numeric(bblag$Year+1)
colnames(bblag) <- paste0(colnames(bblag),"1yrlag")
bblag$Year1yrlag <- NULL
bblag$Year <- as.numeric(bblag$YearLag1yrlag)
bblag$YearLag1yrlag <- NULL
bblag$Plot <- bblag$Plot1yrlag
bblag$Plot1yrlag<-NULL
bbdf <- merge(bb,bblag,by=c("Year","Plot"))
bbdf$dB.BdT <- (bbdf$AGB-bbdf$AGB1yrlag)/bbdf$AGB1yrlag
bbdf$YearFac<- as.factor(bbdf$Year)
ggplot(bbdf,aes(DivTrt,dB.BdT,color=YearFac,group=YearFac))+geom_point(stat="summary")+geom_line(stat="summary")
bbprec <- merge(bbdf,wdf.yr,by=c("Year"),all.x=T,all.y=F)
wdf.yr
##Import data
daily<-read.csv("~/Dropbox/CDRSynth/spei and precip data/e080_Daily climate summary.csv")
##Make date column a date
daily$Date<-as.Date(daily$Date,"%m/%d/%y")
#get rid of dates in the future
daily$Date<-as.Date(ifelse(daily$Date>Sys.Date(),format(daily$Date,"19%y-%m-%d"),format(daily$Date)))
daily$Year <- as.numeric(format(daily$Date,'%Y'))
daily$Month <- as.numeric(format(daily$Date,'%m'))
dailyrel <- daily[daily$Year<2015,c("Date","Year","Month","Precip.inches.")]
daily15<-read.csv("~/Dropbox/CDRSynth/spei and precip data/2015 Daily precip corrected.csv")
daily15$Date<-as.Date(daily15$Date,"%m/%d/%y")
daily15$Year <- as.numeric(format(daily15$Date,'%Y'))
daily15$Month <- as.numeric(format(daily15$Date,'%m'))
daily15$Precip.inches. <- daily15$Precip.in.
daily15<- daily15[,c("Date","Year","Month","Precip.inches.")]
daily16.19 <- read.csv("~/Dropbox/CDRSynth/spei and precip data/2016-2019 Daily precip corrected.csv")
daily16.19$Date<-as.Date(daily16.19$Date,"%m/%d/%y")
daily16.19$Year <- as.numeric(format(daily16.19$Date,'%Y'))
daily16.19$Month <- as.numeric(format(daily16.19$Date,'%m'))
daily16.19$Precip.inches. <- daily16.19$Precip.in.
daily16.19 <- daily16.19[,c("Date","Year","Month","Precip.inches.")]
dailycor <- rbind(daily15,daily16.19)
wdf <- rbind(dailyrel,dailycor)
# wdf <- read.csv("~/Dropbox/UMN Postdoc/TeRaBio/e080_Daily climate summary.csv")
names(wdf)
wdf$Date1 <- as.Date(wdf$Date,"%m/%d/%y")
wdf$Year <- as.numeric(format(wdf$Date1,'%Y'))
wdf$Year <- ifelse(wdf$Year>2020,wdf$Year-100,wdf$Year)
wdf$Day <- as.numeric(format(wdf$Date1,'%d'))
wdf$Month <- as.numeric(format(wdf$Date1,'%m'))
wdf$Date <- as.Date(paste(wdf$Year,wdf$Month,wdf$Day,sep="-"))
wdf$Precip.mm. <- inches_to_metric(wdf$Precip.inches.,"mm",round = 2)
wdf.yr<-wdf[,.(sumPrecip=sum(Precip.mm.,na.rm=T)),by=.(Year)]
wdf.yr<-wdf[,.(sumPrecip=sum(Precip.mm.,na.rm=T)),by=c(Year)]
setDT(wdf)
wdf.yr<-wdf[,.(sumPrecip=sum(Precip.mm.,na.rm=T)),by=.(Year)]
bbprec <- merge(bbdf,wdf.yr,by=c("Year"),all.x=T,all.y=F)
ggplot(bbprec,aes(DivTrt,dB.BdT,color=sumPrecip,group=sumPrecip))+geom_point(stat="summary")+geom_smooth()
ggplot(bbprec,aes(EtoHPlantedSp..Cov.1yrlag,dB.BdT,color=sumPrecip,group=sumPrecip))+geom_point(stat="summary")+geom_smooth()
bbprec2 <- bbprec[bbprec$Year>2005,]
ggplot(bbprec2,aes(EtoH.Biomass.,dB.BdT,color=sumPrecip,group=sumPrecip))+geom_point(stat="summary")+geom_smooth()
ggplot(bbprec,aes(EtoHPlantedSp..Cov.1yrlag,dB.BdT,color=sumPrecip,group=sumPrecip))+geom_point(stat="summary")+geom_smooth()
ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
ggplot(bbprec,aes(DivTrt,AGB,color=sumPrecip,group=sumPrecip))+geom_point(stat="summary")+geom_smooth()
ggplot(bbprec,aes(DivTrt,AGB,color=sumPrecip,group=sumPrecip))+geom_point(stat="summary")+geom_smooth(se=F)
ggplot(bbprec,aes(DivTrt,AGB,color=sumPrecip,group=Year))+geom_point(stat="summary")+geom_smooth(se=F)
ggplot(bbprec,aes(DivTrt,AGB,color=sumPrecip,group=YearFac))+geom_point(stat="summary")+geom_smooth(se=F)
ggplot(bbprec,aes(DivTrt,AGB,color=Year,group=Year))+geom_point(stat="summary")+geom_smooth(se=F)
ggplot(bbprec,aes(Year,AGB,color=DivTrt,group=DivTrt))+geom_point(stat="summary")+geom_smooth(se=F)
ggplot(bbprec,aes(sumPrecip,AGB,color=DivTrt,group=DivTrt))+geom_point(stat="summary")+geom_smooth(se=F)
ggplot(bbprec,aes(sumPrecip,AGB,color=DivTrt,group=DivTrt))+geom_point(aes(color=YearFac),stat="summary")+geom_smooth(se=F)
ggplot(bbprec,aes(sumPrecip,AGB,color=DivTrt,group=DivTrt))+geom_point(aes(color=YearFac),stat="summary")+geom_smooth(aes(color=DivTrt)se=F)
ggplot(bbprec,aes(sumPrecip,AGB,color=DivTrt,group=DivTrt))+geom_point(aes(color=YearFac),stat="summary")+geom_smooth(aes(color=DivTrt),se=F)
ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
names(bb)
g2 <- ggplot(bb,aes(Year,Liatris.aspera.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g2 <- ggplot(bb,aes(Year,Achillea.millefolium.lanulosa..g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g2 <- ggplot(bb,aes(Year,Monarda.fistulosa.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g2 <- ggplot(bb,aes(Year,Andropogon.gerardi.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g2 <- ggplot(bb,aes(Year,Schizachyrium.scoparium.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g2 <- ggplot(bb,aes(Year,Poa.pratensis.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g2 <- ggplot(bb,aes(Year,Lupinus.perennis.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g2 <- ggplot(bb,aes(Year,Lespedeza.capitata.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g2 <- ggplot(bb,aes(Year,Lespedeza.capitata.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
names(bb)
g2 <- ggplot(bb,aes(Year,Solidago.rigida.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g2 <- ggplot(bb,aes(Year,Sorghastrum.nutans.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
bb[nrow(bb),]
bb$plantedinplot.Achmi <- bb$Achillea.millefolium.lanulosa..g.m2. * bb$Achmi
bb$plantedinplot.Agrsm <- bb$Agropyron.smithii.g.m2. * bb$Agrsm
bb$plantedinplot.Amoca <- bb$Amorpha.canescens.g.m2. * bb$AmoPet
bb$plantedinplot.Andge <- bb$Andropogon.gerardi.g.m2. * bb$Andge
bb$plantedinplot.Asctu <- bb$Asclepias.tuberosa.g.m2. * bb$Asctu
bb$plantedinplot.Elyca <- bb$Elymus.canadensis.g.m2. * bb$Elyca
bb$plantedinplot.Koecr <- bb$Koeleria.cristata.g.m2. * bb$Koecr
bb$plantedinplot.Lesca <- bb$Lespedeza.capitata.g.m2. * bb$Lesca
bb$plantedinplot.Liaas <- bb$Liatris.aspera.g.m2. * bb$Liaas
bb$plantedinplot.Luppe <- bb$Lupinus.perennis.g.m2. * bb$Luppe
bb$plantedinplot.Monfi <- bb$Monarda.fistulosa.g.m2. * bb$MonSol
bb$plantedinplot.Panvi <- bb$Panicum.virgatum.g.m2. * bb$Panvi
bb$plantedinplot.Petpu <- bb$Petalostemum.purpureum.g.m2. * bb$Petpu
bb$plantedinplot.Poapr <- bb$Poa.pratensis.g.m2. * bb$Poapr
bb$plantedinplot.Schsc <- bb$Schizachyrium.scoparium.g.m2. * bb$Schsc
bb$plantedinplot.Solri <- bb$Solidago.rigida.g.m2. * bb$MonSol
bb$plantedinplot.Sornu <- bb$Sorghastrum.nutans.g.m2. * bb$Sornu
bb$Andge
bb$plantedinplot.Andge
head(bb[,260:275])
head(bb[,261:275])
head(bb[,255:275])
bb[, 14:31]
bb[, 14:31][bb[, 14:31] == 0] <- NA
bb$plantedinplot.Achmi <- bb$Achillea.millefolium.lanulosa..g.m2. * bb$Achmi
bb$plantedinplot.Agrsm <- bb$Agropyron.smithii.g.m2. * bb$Agrsm
bb$plantedinplot.Amoca <- bb$Amorpha.canescens.g.m2. * bb$AmoPet
bb$plantedinplot.Andge <- bb$Andropogon.gerardi.g.m2. * bb$Andge
bb$plantedinplot.Asctu <- bb$Asclepias.tuberosa.g.m2. * bb$Asctu
bb$plantedinplot.Elyca <- bb$Elymus.canadensis.g.m2. * bb$Elyca
bb$plantedinplot.Koecr <- bb$Koeleria.cristata.g.m2. * bb$Koecr
bb$plantedinplot.Lesca <- bb$Lespedeza.capitata.g.m2. * bb$Lesca
bb$plantedinplot.Liaas <- bb$Liatris.aspera.g.m2. * bb$Liaas
bb$plantedinplot.Luppe <- bb$Lupinus.perennis.g.m2. * bb$Luppe
bb$plantedinplot.Monfi <- bb$Monarda.fistulosa.g.m2. * bb$MonSol
bb$plantedinplot.Panvi <- bb$Panicum.virgatum.g.m2. * bb$Panvi
bb$plantedinplot.Petpu <- bb$Petalostemum.purpureum.g.m2. * bb$Petpu
bb$plantedinplot.Poapr <- bb$Poa.pratensis.g.m2. * bb$Poapr
bb$plantedinplot.Schsc <- bb$Schizachyrium.scoparium.g.m2. * bb$Schsc
bb$plantedinplot.Solri <- bb$Solidago.rigida.g.m2. * bb$MonSol
bb$plantedinplot.Sornu <- bb$Sorghastrum.nutans.g.m2. * bb$Sornu
head(bb[,255:275])
#### this can be run repeatedly to update package
setwd("~/Documents/HyperPackage/HyperProc")
devtools::document()
#### this can be run repeatedly to update package
setwd("~/Documents/HyperPackage/HyperProc")
devtools::document()
#### this can be run repeatedly to update package
setwd("~/Documents/HyperPackage/HyperProc")
devtools::document()
devtools::document()
?raster
?spTransform
?extent
?crs
devtools::document()
devtools::document()
?gBuffer
??gBuffer
source('~/Documents/HyperPackage/HyperProc/R/shpfile_plotloop.R')
?crop
cv(1,2,3)
?cv
?read.delim
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
bb.sampdates <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120 aboveground biomass sampling dates for JD.csv")
### JANE M COWLES
### TERABIO
### Q: Does resistance to drought correlate with lower variability under natural conditions? Does resistance to drought change with plant diversity?
### 12 November 2018 -- I have e249 up to 2015 and e303 in 2016 & 2017 -- still waiting on 2018
#clear workspace
rm(list=ls())
graphics.off()
#set working directory
setwd("~/Dropbox/UMN Postdoc/TheDrought")
### general packages that I use often
library(plyr)
library(nlme)
library(lme4)
library(car)
library(ggplot2)
library(vegan)
library(readxl)
library(data.table)
library(tidyr)
library(gridExtra)
library(RColorBrewer)
library(weathermetrics)
library(sp)
library(sf)
#### water table
well <- read.csv("e084_Depth to water table.csv")
well$Date <- as.Date(well$Date,"%m/%d/%y")
well$Year <- as.numeric(format(well$Date,"%Y"))
well$ID <- as.factor(well$Well_ID)
well_xy <- well[,c("LONG","LAT")]
well_sp <- SpatialPointsDataFrame(coords=well_xy,data=well,proj4string = CRS("+init=epsg:4326"))
well_sf <- st_as_sf(well_sp)
st_write(well_sf,dsn="~/Dropbox/UMN Postdoc/TheDrought/well_locs.shp",driver="ESRI Shapefile",update = TRUE)
plot(well_sp)
#### weather
ggplot(well[well$Wetland.Upland=="upland",],aes(Year,depth.from.surface.to.water.table.m.))+geom_point()
ggplot(well[!well$Flag%in%c("Outlier", "Suspected incorrect well measured"),],aes(Year,depth.from.surface.to.water.table.m.,group=ID,color=ID))+geom_point()+geom_line(stat="summary")+facet_grid(Wetland.Upland~1)
ggplot(well[!well$Flag%in%c("Outlier", "Suspected incorrect well measured"),],aes(Year,depth.from.surface.to.water.table.m.))+geom_point(aes(color=ID))+geom_line(stat="summary")+facet_grid(Wetland.Upland~1)
hist(well$depth.from.surface.to.water.table.m.)
well[well$depth.from.surface.to.water.table.m.<0,]
##Import data
daily<-read.csv("~/Dropbox/CDRSynth/spei and precip data/e080_Daily climate summary.csv")
#contains 1962-2015
##Make date column a date
daily$Date<-as.Date(daily$Date,"%m/%d/%y")
#get rid of dates in the future
daily$Date<-as.Date(ifelse(daily$Date>Sys.Date(),format(daily$Date,"19%y-%m-%d"),format(daily$Date)))
daily$Year <- as.numeric(format(daily$Date,'%Y'))
daily$Month <- as.numeric(format(daily$Date,'%m'))
#daily$Month <- as.character(format(daily$Date,'%B'))
dailyrel <- daily[daily$Year<2015,c("Date","Year","Month","Precip.inches.")]
daily15<-read.csv("~/Dropbox/CDRSynth/spei and precip data/2015 Daily precip corrected.csv")
daily15$Date<-as.Date(daily15$Date,"%m/%d/%y")
#get rid of dates in the future
daily15$Year <- as.numeric(format(daily15$Date,'%Y'))
daily15$Month <- as.numeric(format(daily15$Date,'%m'))
daily15$Precip.inches. <- daily15$Precip.in.
daily15<- daily15[,c("Date","Year","Month","Precip.inches.")]
daily16.19 <- read.csv("~/Dropbox/CDRSynth/spei and precip data/2016-2019 Daily precip corrected.csv")
daily16.19$Date<-as.Date(daily16.19$Date,"%m/%d/%y")
#get rid of dates in the future
daily16.19$Year <- as.numeric(format(daily16.19$Date,'%Y'))
daily16.19$Month <- as.numeric(format(daily16.19$Date,'%m'))
daily16.19$Precip.inches. <- daily16.19$Precip.in.
daily16.19 <- daily16.19[,c("Date","Year","Month","Precip.inches.")]
dailycor <- rbind(daily15,daily16.19)
wdf <- rbind(dailyrel,dailycor)
# wdf <- read.csv("~/Dropbox/UMN Postdoc/TeRaBio/e080_Daily climate summary.csv")
names(wdf)
wdf$Date1 <- as.Date(wdf$Date,"%m/%d/%y")
wdf$Year <- as.numeric(format(wdf$Date1,'%Y'))
wdf$Year <- ifelse(wdf$Year>2020,wdf$Year-100,wdf$Year)
wdf$Day <- as.numeric(format(wdf$Date1,'%d'))
wdf$Month <- as.numeric(format(wdf$Date1,'%m'))
wdf$Date <- as.Date(paste(wdf$Year,wdf$Month,wdf$Day,sep="-"))
# wdf$MaxTemp.degC. <- fahrenheit.to.celsius(wdf$MaxTemp.degF., round = 2)
# wdf$MinTemp.degC. <- fahrenheit.to.celsius(wdf$MinTemp.degF., round = 2)
# wdf$MeanTemp.degC. <- (wdf$MaxTemp.degC.+wdf$MinTemp.degC.)/2
wdf$Precip.mm. <- inches_to_metric(wdf$Precip.inches.,"mm",round = 2)
setDT(wdf)
wdf.yr<-wdf[,.(sumPrecip=sum(Precip.mm.,na.rm=T)),by=.(Year)]
# ggplot(wdf.yr[wdf.yr$Year>2000,],aes(Year,sumPrecip))+geom_point()+geom_line(stat="summary")+geom_point(data=bb,aes(Year,plantedinplot.Andge*10),stat="summary",col="red")+geom_point(data=bb,aes(Year,plantedinplot.Petpu*10),stat="summary",col="blue")+geom_line(data=bb,aes(Year,plantedinplot.Andge*10,group=HeatOrd),stat="summary",col="red")+geom_line(data=bb,aes(Year,plantedinplot.Petpu*10,group=HeatOrd),stat="summary",col="blue")+geom_line(data=bb[!bb$Year%in%c(1996:2000,2009),],aes(Year,Andropogon.gerardi.g.m2.*10),stat="summary",col="yellow")
# plot(wdf$MaxTemp.degF.~wdf$Date)
# wdf.rel <- wdf[wdf$Year>(min(bb.bacplots$Year)-2),]
# plot(wdf.rel$MaxTemp.degF.~wdf.rel$Date)
###e120 through 2018
bb <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120mega96-19.csv")
bb.sampdates <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120 aboveground biomass sampling dates for JD.csv")
names(bb)
bb.sampdates$MinDate <- as.Date(bb.sampdates$MinOfDate)
bb.sampdates$MinOfDate
bb.sampdates$MinDate <- as.Date(bb.sampdates$MinOfDate,"%m/%d/%y")
bb.sampdates$MinDate
bb.sampdates$MaxDate <- as.Date(bb.sampdates$MaxOfDate,"%m/%d/%y")
bb.sampdates$MeanDate <- mean(bb.sampdates$MinDate,bb.sampdates$MaxDate)
bb.sampdates$MinDOY <- format(bb.sampdates$MinDate,"%j")
bb.sampdates$MinDOY
bb.sampdates$MaxDOY <- format(bb.sampdates$MaxDate,"%j")
bb.sampdates$MaxDOY <- format(bb.sampdates$MaxDate,"%j")
bb.sampdates$MeanDOY <- mean(bb.sampdates$MinDOY,bb.sampdates$MaxDOY)
bb.sampdates$MeanDOY <- (bb.sampdates$MaxDOY+bb.sampdates$MinDOY)/2
bb.sampdates$MinDOY <- as.numeric(format(bb.sampdates$MinDate,"%j"))
bb.sampdates$MaxDOY <- as.numeric(format(bb.sampdates$MaxDate,"%j"))
bb.sampdates$MeanDOY <- (bb.sampdates$MaxDOY+bb.sampdates$MinDOY)/2
bb.sampdates$MeanDOY
bb <- merge(bb,bb.sampdates,by="Year")
###e120 through 2018
bb <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120mega96-19.csv")
bb$Year
class(bb$Year)
class(bb.sampdates$Year)
(bb.sampdates$Year)
###e120 through 2018
bb <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120mega96-19.csv")
bb.sampdates <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120 aboveground biomass sampling dates for JD.csv")
bb.sampdates$MinDate <- as.Date(bb.sampdates$MinOfDate,"%m/%d/%y")
bb.sampdates$MinDOY <- as.numeric(format(bb.sampdates$MinDate,"%j"))
bb.sampdates$MaxDate <- as.Date(bb.sampdates$MaxOfDate,"%m/%d/%y")
bb.sampdates$MaxDOY <- as.numeric(format(bb.sampdates$MaxDate,"%j"))
bb.sampdates$MeanDOY <- (bb.sampdates$MaxDOY+bb.sampdates$MinDOY)/2
bb <- merge(bb,bb.sampdates,by="Year")
bb <- merge(bb,bb.sampdates,by="Year")
names(bb)
###e120 through 2018
bb <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120mega96-19.csv")
bb.sampdates <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120 aboveground biomass sampling dates for JD.csv")
bb.sampdates$MinDate <- as.Date(bb.sampdates$MinOfDate,"%m/%d/%y")
bb.sampdates$MinDOY <- as.numeric(format(bb.sampdates$MinDate,"%j"))
bb.sampdates$MaxDate <- as.Date(bb.sampdates$MaxOfDate,"%m/%d/%y")
bb.sampdates$MaxDOY <- as.numeric(format(bb.sampdates$MaxDate,"%j"))
bb.sampdates$MeanDOY <- (bb.sampdates$MaxDOY+bb.sampdates$MinDOY)/2
bb2 <- merge(bb,bb.sampdates,by="Year")
tail(bb)
bb$Year
bb$AbvBioAnnProd
bb$AbvBioAnnProd
bb2$AbvBioAnnProd
bb2$MinDate
bb2$MinDOY
bb.sampdates
format(as.Date(180,"%j"),"%M")
as.Date(180,"%j")
class(format(bb.sampdates$MaxDate,"%j"))
as.Date(as.character(180),"%j")
bb.sampdates <- bb.sampdates[bb.sampdates$MinDOY>180,]
bb.sampdates
bb <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120mega96-19.csv")
names(bb)
bb <- bb[bb$Month>6,]
bb.sampdates <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120 aboveground biomass sampling dates for JD.csv")
bb.sampdates$MinDate <- as.Date(bb.sampdates$MinOfDate,"%m/%d/%y")
bb.sampdates$MinDOY <- as.numeric(format(bb.sampdates$MinDate,"%j"))
bb.sampdates$MaxDate <- as.Date(bb.sampdates$MaxOfDate,"%m/%d/%y")
bb.sampdates$MaxDOY <- as.numeric(format(bb.sampdates$MaxDate,"%j"))
bb.sampdates$MeanDOY <- (bb.sampdates$MaxDOY+bb.sampdates$MinDOY)/2
bb.sampdates <- bb.sampdates[bb.sampdates$MinDOY>180,]
bb2 <- merge(bb,bb.sampdates,by="Year")
bb <- merge(bb,bb.sampdates,by="Year")
###e120 through 2018
bb <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120mega96-19.csv")
names(bb)
bb <- bb[bb$Month>6,]
bb.sampdates <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120 aboveground biomass sampling dates for JD.csv")
bb.sampdates$MinDate <- as.Date(bb.sampdates$MinOfDate,"%m/%d/%y")
bb.sampdates$MinDOY <- as.numeric(format(bb.sampdates$MinDate,"%j"))
bb.sampdates$MaxDate <- as.Date(bb.sampdates$MaxOfDate,"%m/%d/%y")
bb.sampdates$MaxDOY <- as.numeric(format(bb.sampdates$MaxDate,"%j"))
bb.sampdates$MeanDOY <- (bb.sampdates$MaxDOY+bb.sampdates$MinDOY)/2
bb.sampdates[bb.sampdates$MinDOY>180,]
bb.sampdates <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120 aboveground biomass sampling dates for JD.csv")
bb.sampdates$MinDate <- as.Date(bb.sampdates$MinOfDate,"%m/%d/%y")
bb.sampdates$MinDOY <- as.numeric(format(bb.sampdates$MinDate,"%j"))
bb.sampdates$MaxDate <- as.Date(bb.sampdates$MaxOfDate,"%m/%d/%y")
bb.sampdates$MaxDOY <- as.numeric(format(bb.sampdates$MaxDate,"%j"))
bb.sampdates$MeanDOY <- (bb.sampdates$MaxDOY+bb.sampdates$MinDOY)/2
bb.sampdates <- bb.sampdates[bb.sampdates$Sampling!=1,]
bb.sampdates
bb.sampdates <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/e120 aboveground biomass sampling dates for JD.csv")
bb.sampdates$MinDate <- as.Date(bb.sampdates$MinOfDate,"%m/%d/%y")
bb.sampdates$MinDOY <- as.numeric(format(bb.sampdates$MinDate,"%j"))
bb.sampdates$MaxDate <- as.Date(bb.sampdates$MaxOfDate,"%m/%d/%y")
bb.sampdates$MaxDOY <- as.numeric(format(bb.sampdates$MaxDate,"%j"))
bb.sampdates$MeanDOY <- (bb.sampdates$MaxDOY+bb.sampdates$MinDOY)/2
bb.sampdates
bb.sampdates <- bb.sampdates[bb.sampdates$MaxDOY>180,]
bb.sampdates
bb <- merge(bb,bb.sampdates,by="Year")
table(bb$Month,bb$Year)
tapply(bb$AbvBioAnnProd,bb$Year,mean,na.rm=T)
tapply(bb$AbvStandStock,bb$Year,mean,na.rm=T)
bb$Year <- as.numeric(bb$Year)
bb$AGB <- bb$AbvBioAnnProd
bb$DivTrt <- as.factor(bb$NumSp)
ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
ggplot(bb,aes(MeanDOY,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
ggplot(bb,aes(MeanDOY,AGB,group=Year,color=Year))+geom_line(stat="summary")+geom_point(stat="summary")
ggplot(bb,aes(Year,AGB,group=MeanDOY,color=MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary")
ggplot(bb,aes(Year,AGB,group=factor(MeanDOY),color=factor(MeanDOY)))+geom_line(stat="summary")+geom_point(stat="summary")
ggplot(bb,aes(Year,MeanDOY,color=AGB))+geom_point(stat="summary",size=3)
ggplot(bb,aes(Year,MeanDOY,color=AGB))+geom_point(stat="summary",size=3)+geom_point(aes(y=MinDOY))
ggplot(bb,aes(Year,MeanDOY,color=AGB))+geom_point(stat="summary",size=3)+geom_point(aes(y=MinDOY))+geom_point(aes(y=MaxDOY))
ggplot(bb,aes(Year,MeanDOY,color=AGB))+geom_point(stat="summary",size=3)+geom_point(aes(y=MinDOY))+geom_point(aes(y=MaxDOY),color="red")
ggplot(bb,aes(Year,MeanDOY,color=AGB))+geom_point(stat="summary",size=3)+geom_point(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")
ggplot(bb,aes(Year,MeanDOY,color=AGB))+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")
ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")
ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")
ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")
ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
p1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")
grid.arrange(p1,p2)
p1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")+theme(legend.position = "top")
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")
grid.arrange(p1,p2)
p1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")+theme(legend.position = "top")+geom_hline(x=c(1996,1997))
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")
grid.arrange(p1,p2)
p1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")+theme(legend.position = "top")+geom_hline(c(1996,1997))
p1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")+theme(legend.position = "top")+geom_hline(aes(c(1996,1997)))
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")
grid.arrange(p1,p2)
p1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")+theme(legend.position = "top")+geom_vline(aes(xintercept = Year))
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")
grid.arrange(p1,p2)
p1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")+theme(legend.position = "top")+geom_vline(aes(xintercept = Year),color="grey")
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")
grid.arrange(p1,p2)
p1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")+theme(legend.position = "top")+geom_vline(aes(xintercept = Year),color="grey")
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")+geom_vline(aes(xintercept = Year),color="grey")
grid.arrange(p1,p2)
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")+geom_vline(aes(xintercept = Year),color="grey")+labs(y="hi")
grid.arrange(p1,p2)
p2 <- ggplot(bb,aes(Year,MeanDOY))+geom_line(stat="summary")+geom_point(stat="summary",size=4)+geom_point(aes(y=MinDOY),color="blue")+geom_line(aes(y=MinDOY),color="blue")+geom_point(aes(y=MaxDOY),color="red")+geom_line(aes(y=MaxDOY),color="red")+geom_vline(aes(xintercept = Year),color="grey")+labs(y="Min, Mean, Max Day of Year for Harvest")
grid.arrange(p1,p2)
g1 <- ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g2 <- ggplot(bb,aes(Year,Andropogon.gerardi.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
bb2 <- bb[bb$Year%in%c(2001:2008,2010:2019)]
bb2 <- bb[bb$Year%in%c(2001:2008,2010:2019),]
g1 <- ggplot(bb2,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g2 <- ggplot(bb2,aes(Year,Andropogon.gerardi.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
g3 <- ggplot(bb2,aes(Year,Schizachyrium.scoparium.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2,g3)
bb2$C4 <- bb2$Andropogon.gerardi.g.m2. + bb2$Schizachyrium.scoparium.g.m2. + bb2$Sorghastrum.nutans.g.m2. + bb2$Panicum.virgatum.g.m2.
g2 <- ggplot(bb2,aes(Year,C4,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g1 <- ggplot(bb2,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2)
bb2$C3 <- bb2$Poa.pratensis.g.m2.+bb2$Koeleria.cristata.g.m2.+bb2$Elymus.canadensis.g.m2.+bb2$Agropyron.smithii.g.m2.
bb2$Legumes <- bb2$Lupinus.perennis.g.m2.+bb2$Petalostemum.purpureum.g.m2.+bb2$Petalostemum.villosum.g.m2.+bb2$Amorpha.canescens.g.m2.+bb2$Lespedeza.capitata.g.m2.
bb2$Forb <- bb2$Solidago.rigida.g.m2.+bb2$Monarda.fistulosa.g.m2.+bb2$Liatris.aspera.g.m2.+bb2$Asclepias.tuberosa.g.m2.
bb2$Legumes <- bb2$Lupinus.perennis.g.m2.+bb2$Petalostemum.purpureum.g.m2.+bb2$Petalostemum.villosum.g.m2.+bb2$Amorpha.canescens.g.m2.+bb2$Lespedeza.capitata.g.m2.
g2 <- ggplot(bb2,aes(Year,C3,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g2 <- ggplot(bb2,aes(Year,Legumes,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g2 <- ggplot(bb2,aes(Year,Forb,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g2 <- ggplot(bb2,aes(Year,C4,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g3 <- ggplot(bb2,aes(Year,C3,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g4 <- ggplot(bb2,aes(Year,Legumes,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g5 <- ggplot(bb2,aes(Year,Forb,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g1 <- ggplot(bb2,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2,g3,g4,g5)
bb2$C4Prop <- bb2$C4/bb2$AGB
bb2$C3Prop <- bb2$C3/bb2$AGB
bb2$LegumesProp <- bb2$Legumes/bb2$AGB
bb2$ForbProp <- bb2$Forb/bb2$AGB
g2 <- ggplot(bb2,aes(Year,C4Prop,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g3 <- ggplot(bb2,aes(Year,C3Prop,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g4 <- ggplot(bb2,aes(Year,LegumesProp,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g5 <- ggplot(bb2,aes(Year,ForbProp,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g1 <- ggplot(bb2,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
grid.arrange(g1,g2,g3,g4,g5)
setDT(bb2)
cols(bb2)
names(bb2)
sp_cols <- names(bb2[79:246])
plspNOQU_cols <- c("Achillea.millefolium.lanulosa..g.m2.","Agropyron.smithii.g.m2.","Amorpha.canescens.g.m2.", "Andropogon.gerardi.g.m2.","Asclepias.tuberosa.g.m2.","Elymus.canadensis.g.m2.","Koeleria.cristata.g.m2.","Lespedeza.capitata.g.m2.","Liatris.aspera.g.m2.","Lupinus.perennis.g.m2.","Monarda.fistulosa.g.m2.","Panicum.virgatum.g.m2.","Petalostemum.purpureum.g.m2.","Poa.pratensis.g.m2.","Schizachyrium.scoparium.g.m2.","Solidago.rigida.g.m2.","Sorghastrum.nutans.g.m2.")
bb2longPL <- melt(bb2[,c(1:31,49,79:246)],measure=list(plspNOQU_cols),variable.name = "SpID",value.name = "SpBiomass")
ggplot(bb2longPL,aes(NumSp,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Season")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black"))
ggplot(bb2longPL,aes(NumSp,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Year")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black"))
ggplot(bb2longPL,aes(NumSp,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Year")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black"<"black"))
ggplot(bb2longPL,aes(NumSp,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Year")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))
ggplot(bb2longPL,aes(NumSp,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Year")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+theme_minimal()
ggplot(bb2longPL,aes(NumSp,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Year")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+theme_classic()
ggplot(bb2longPL,aes(Year,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="NumSp")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+theme_classic()
ggplot(bb2longPL[bb2longPL$NumSp==16,],aes(Year,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+theme_classic()
bb2sum <- bb2longPL[,.(meanSP=mean(SpBiomass,na.rm=T),meanAGB=mean(AbvBioAnnProd,na.rm=T)),by=.(SpID,Season,NumSp)]
bb2sum <- bb2longPL[,.(meanSP=mean(SpBiomass,na.rm=T),meanAGB=mean(AbvBioAnnProd,na.rm=T)),by=.(SpID,Year,NumSp)]
ggplot(bb2sum,aes(NumSp,meanSP,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Season")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))
ggplot(bb2sum,aes(NumSp,meanSP,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Year")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))
ggplot(bb2sum[bb2sum$NumSp==16,],aes(Year,meanSP,group=SpID,color=SpID,fill=SpID))+geom_col()+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))
ggplot(bb2sum[bb2sum$NumSp==16,],aes(Year,meanSP,group=SpID,color=SpID,fill=SpID))+geom_col()+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+labs(title="16 species plots")
ggplot(bb,aes(Year,AGB,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
bb2 <- bb
g2 <- ggplot(bb2,aes(Year,Monarda.fistulosa.g.m2.,group=DivTrt,color=DivTrt))+geom_line(stat="summary")+geom_point(stat="summary")
g2
head(bb[bb$Year==2009,])
(bb$Andropogon.gerardi.g.m2.[bb$Year==2009])
devtools::document()
#### this can be run repeatedly to update package
setwd("~/Documents/HyperPackage/HyperProc")
devtools::document()
#### this can be run repeatedly to update package
setwd("~/Documents/HyperPackage/HyperProc")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
sin(0.4)
cos(0.4)
sin(3)
cos(3)
devtools::document()
?fwrite
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
