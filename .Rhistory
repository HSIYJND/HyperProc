ggplot(RanksMono16,aes(Rank,Species,group=TypeofRank,color=TypeofRank))+geom_point()
RanksMonov16 <- dcast(RanksMono16, CO2.Treatment+Nitrogen.Treatment+Species ~ TypeofRank, value.var = "Rank")
ggplot(RanksMonov16,aes(TRTMONO,trtmeanallyrs,color=Species))+geom_point()+facet_grid(CO2.Treatment~Nitrogen.Treatment)
################################################
################################################
################################################
################################################
e141_not16 <- e141[e141$CountOfSpecies!=16,]
e141_not16.1 <- merge(e141_not16,Avg,all.x=T)
e141_not16.2 <- merge(e141_not16.1,TrtAvg,by=c("CO2.Treatment","Nitrogen.Treatment"),all.x=T)
e141_not16.3 <- merge(e141_not16.2,YearAvg,by=c("year"),all.x=T)
e141_not16.4 <- merge(e141_not16.3,TrtAvg_AMB,all.x=T)
e141_not16.5 <- merge(e141_not16.4,TrtYearAvg_AMB,by=c("year"),all.x=T)
e141_fin <- merge(e141_not16.5,TrtYearAvg,by=c("year","CO2.Treatment","Nitrogen.Treatment"),all.x=T)
#make zeros and 1s for multiplying in next step
for(i in colsforrank){
e141_fin[,i] <- ifelse(is.na(e141_fin[,i]),0,1)
}
# make the variable names for the next set of calculations
sp <- c("Achillea",  "Agropyron", "Amorpha", "Andropogon", "Anemone",   "Asclepias", "Bouteloua", "Bromus",   "Koeleria",  "Lespedeza", "Lupinus",   "Petalostemum", "Poa", "Schizachyrium", "Solidago",  "Sorghastrum")
var_type <- c("PropofTotalCov","rank")
avg_types <- c("overallmeanallyrs","Annualmean","trtmeanallyrs","Annualmeanxtrt","trtmeanallyrs.AMBONLY","Annualmeanxtrt.AMBONLY")
#use these to make totals and Scaled Totals --
# the total rank for a plot is the sum of the ranks of the species planted in the plot, even if not present. Scaled versions scale this by the # of species, so it's more of an average rank in a plot
e141_fin$ScaledRank_recent10yearRanks <- rowSums(e141_fin[,colsforrank]*e141_fin[,c(paste(sp,var_type[2],avg_types[1],sep=c(".")))],na.rm=T)/e141_fin$CountOfSpecies
e141_fin$ScaledRank_AnnualMeanRanks <- rowSums(e141_fin[,colsforrank]*e141_fin[,paste(sp,var_type[2],avg_types[2],sep=c("."))],na.rm=T)/e141_fin$CountOfSpecies
e141_fin$ScaledRank_recent10yearxTrtRanks <- rowSums(e141_fin[,colsforrank]*e141_fin[,paste(sp,var_type[2],avg_types[3],sep=c("."))],na.rm=T)/e141_fin$CountOfSpecies
e141_fin$ScaledRank_AnnualMeanxTrtRanks <- rowSums(e141_fin[,colsforrank]*e141_fin[,paste(sp,var_type[2],avg_types[4],sep=c("."))],na.rm=T)/e141_fin$CountOfSpecies
e141_fin$ScaledRank_recent10yearAMBONLYRanks <- rowSums(e141_fin[,colsforrank]*e141_fin[,paste(sp,var_type[2],avg_types[5],sep=c("."))],na.rm=T)/e141_fin$CountOfSpecies
e141_fin$ScaledRank_AnnualMeanAMBONLYRanks <- rowSums(e141_fin[,colsforrank]*e141_fin[,paste(sp,var_type[2],avg_types[6],sep=c("."))],na.rm=T)/e141_fin$CountOfSpecies
################################################
########### graphing and analysis ##############
################################################
#simplifying for example and creating shorter names for ease of viewing results.
ambonly <- e141_fin[e141_fin$CO2.Treatment=="Camb"&e141_fin$Nitrogen.Treatment=="Namb",]
ambonly$Plot <- as.numeric(as.character(ambonly$Plot)) #i do this to calculate the fake treatments below
ambonly$Richness <- ambonly$CountOfSpecies
ambonly$AGB <- ambonly$AbovegroundTotal.Biomass..g.m.2
ambonly$MeanRankrecent10year <- ambonly$ScaledRank_recent10yearAMBONLYRanks
ambonly$MeanRankBYYear <- ambonly$ScaledRank_AnnualMeanAMBONLYRanks
#these are sample variables that you are welcome to play around with
ambonly$PlotLevelTreatment <- ifelse(ambonly$Plot%in%c(unique(ambonly$Plot)[seq(1,40,by=2)]),1,ifelse(ambonly$Plot%in%c(unique(ambonly$Plot)[seq(2,40,by=2)]),2,3)) #varies by plot but not by year
ambonly$YearLevelTreatment <- ifelse(ambonly$year%in%c(unique(ambonly$year)[seq(1,18,by=3)]),1,ifelse(ambonly$year%in%c(unique(ambonly$year)[seq(2,18,by=3)]),2,3)) #varies by year but not by plot
#turning back into a factor for using in random effects
ambonly$Plot <- factor(ambonly$Plot)
#
#
# #this a variable that varies by plot but not by year and results match the PlotLevelTreatment, now that I've fixed the typo
# modrecent10year <- lme(AGB ~ MeanRankrecent10year*year,random = ~1|Ring/Plot,data=ambonly,method="REML")
# summary(modrecent10year)
# Anova(modrecent10year)
#
# #varies by plot not year, correct df
# modex1<- lme(AGB ~ PlotLevelTreatment*year,random = ~1|Ring/Plot,data=ambonly,method="REML")
# summary(modex1)
# Anova(modex1)
#
# #varies by year not plot, inflated df
# modex2 <- lme(AGB ~ YearLevelTreatment*year,random = ~1|Ring/Plot,data=ambonly,method="REML")
# summary(modex2)
# Anova(modex2)
#
# ### FOREST: model to try in asreml. Here I don't have the correlation structure for simplicity but you can always add that in (an option below in the full dataset section)
# ##### real data that varies by year and plot.
# modbyyear <- lme(AGB ~ MeanRankBYYear*year,random = ~1|Ring/Plot,data=ambonly,method="REML")
# summary(modbyyear)
# Anova(modbyyear)
#
# ggplot(ambonly,aes(MeanRankBYYear,AGB))+geom_point()+facet_grid(1~Richness)
#
#
# #jc asreml attempt
# ambplotscont <- unique(ambonly$Plot[ambonly$year==2018])
# ambclean <- ambonly[ambonly$Plot%in%ambplotscont,]
# fit.t <- asreml(fixed=AGB~Richness*MeanRankBYYear*year,random=~factor(Ring)/year+Plot,residual=~id(Plot):ar1(YearFac), data=ambclean)
# test.asreml(fit.t)
# plot(fit.t)
# names(ambonly)
# ambonlyshort <- ambonly[,c(1:12,301:312)]
#
# PlotDummies <- dummy_cols(ambonlyshort,select_columns = c("Ring","Plot"))
# f <- as.formula(paste('AGB ~', paste(colnames(PlotDummies)[c(1,19,22,25:89)], collapse='+')))
# moddummy <- lm(f, PlotDummies)
# summary(moddummy)
# Anova(moddummy)
######################################################################
######################################################################
######################################################################
######################################################################
######################################################################
######################################################################
######################################################################
e141_fin$Richness <- e141_fin$CountOfSpecies
e141_fin$CO2 <- e141_fin$CO2.Treatment
e141_fin$Ntrt <- e141_fin$Nitrogen.Treatment
e141_fin$MeanRankrecent10year <- e141_fin$ScaledRank_recent10yearRanks
e141_fin$MeanRankBYYear <- e141_fin$ScaledRank_AnnualMeanRanks
e141_fin$MeanRankBYTrtrecent10year <- e141_fin$ScaledRank_recent10yearxTrtRanks
e141_fin$MeanRankBYTrtBYYear <- e141_fin$ScaledRank_AnnualMeanxTrtRanks
hist(e141_fin$MeanRankBYYear)
e141_fin$Richness <- e141_fin$CountOfSpecies
e141_fin$AGB <- e141_fin$AbovegroundTotal.Biomass..g.m.2
for(j in unique(e141_fin$Richness)){
e141_fin$MeanRankrecent10year_levels[e141_fin$Richness==j] <- ifelse(e141_fin$MeanRankrecent10year[e141_fin$Richness==j]<=quantile(e141_fin$MeanRankrecent10year[e141_fin$Richness==j],probs = .33),"LowRank",ifelse(e141_fin$MeanRankrecent10year[e141_fin$Richness==j]<quantile(e141_fin$MeanRankrecent10year[e141_fin$Richness==j],probs=.66),"MedRank","HighRank"))
for(k in unique(e141_fin$C.and.N.treatment)){
e141_fin$MeanRankBYTrtrecent10year_levels[e141_fin$Richness==j&e141_fin$C.and.N.treatment==k] <- ifelse(e141_fin$MeanRankBYTrtrecent10year[e141_fin$Richness==j&e141_fin$C.and.N.treatment==k]<=quantile(e141_fin$MeanRankBYTrtrecent10year[e141_fin$Richness==j&e141_fin$C.and.N.treatment==k],probs = .33),"LowRank",ifelse(e141_fin$MeanRankBYTrtrecent10year[e141_fin$Richness==j&e141_fin$C.and.N.treatment==k]<quantile(e141_fin$MeanRankBYTrtrecent10year[e141_fin$Richness==j&e141_fin$C.and.N.treatment==k],probs=.66),"MedRank","HighRank"))
}
for(i in unique(e141_fin$year)){
e141_fin$MeanRankBYYear_levels[e141_fin$Richness==j&e141_fin$year==i] <- ifelse(e141_fin$MeanRankBYYear[e141_fin$Richness==j&e141_fin$year==i]<=quantile(e141_fin$MeanRankBYYear[e141_fin$Richness==j&e141_fin$year==i],probs = .33),"LowRank",ifelse(e141_fin$MeanRankBYYear[e141_fin$Richness==j&e141_fin$year==i]<quantile(e141_fin$MeanRankBYYear[e141_fin$Richness==j&e141_fin$year==i],probs=.66),"MedRank","HighRank"))
for(k in unique(e141_fin$C.and.N.treatment)){
e141_fin$MeanRankBYTrtBYYear_levels[e141_fin$Richness==j&e141_fin$year==i&e141_fin$C.and.N.treatment==k] <- ifelse(e141_fin$MeanRankBYTrtBYYear[e141_fin$Richness==j&e141_fin$year==i&e141_fin$C.and.N.treatment==k]<=quantile(e141_fin$MeanRankBYTrtBYYear[e141_fin$Richness==j&e141_fin$year==i&e141_fin$C.and.N.treatment==k],probs = .33),"LowRank",ifelse(e141_fin$MeanRankBYTrtBYYear[e141_fin$Richness==j&e141_fin$year==i&e141_fin$C.and.N.treatment==k]<quantile(e141_fin$MeanRankBYTrtBYYear[e141_fin$Richness==j&e141_fin$year==i&e141_fin$C.and.N.treatment==k],probs=.66),"MedRank","HighRank"))
}
}
}
e141_fin$MeanRankrecent10year_levels<-as.factor(e141_fin$MeanRankrecent10year_levels)
e141_fin$MeanRankBYYear_levels<-as.factor(e141_fin$MeanRankBYYear_levels)
e141_fin$MeanRankBYTrtBYYear_levels<-as.factor(e141_fin$MeanRankBYTrtBYYear_levels)
e141_fin$MeanRankBYTrtrecent10year_levels<-as.factor(e141_fin$MeanRankBYTrtrecent10year_levels)
e141_4sp <- e141_fin[e141_fin$CountOfSpecies%in%c(4),]
modbytrtrecent10year <- lme(AbovegroundTotal.Biomass..g.m.2 ~ Richness*MeanRankBYTrtrecent10year_levels*CO2*Ntrt*year,random = ~1|Ring/Plot,correlation = corAR1(form = ~ 1 | Ring/Plot),data=e141_fin)
summary(modbytrtrecent10year)$tTable
Anova(modbytrtrecent10year)
Anova(modbytrtrecent10year)
modbytrtrecent10year <- lme(AbovegroundTotal.Biomass..g.m.2 ~ Richness*MeanRankBYTrtrecent10year_levels*CO2*Ntrt*year,random = ~1|Ring/Plot,correlation = corAR1(form = ~ 1 | Ring/Plot),data=e141_fin)
modrecent10year <- lme(AbovegroundTotal.Biomass..g.m.2 ~ Richness*MeanRankrecent10year_levels*CO2*Ntrt*year,random = ~1|Ring/Plot,correlation = corAR1(form = ~ 1 | Ring/Plot),data=e141_fin)
summary(modrecent10year)$tTable
Anova(modrecent10year)
modrecent10year <- lme(AbovegroundTotal.Biomass..g.m.2 ~ Richness*MeanRankrecent10year*CO2*Ntrt*year,random = ~1|Ring/Plot,correlation = corAR1(form = ~ 1 | Ring/Plot),data=e141_fin)
summary(modrecent10year)$tTable
Anova(modrecent10year)
### JANE M COWLES
### TERABIO STUFF (including BAC)
#clear workspace
rm(list=ls())
graphics.off()
#set working directory
setwd("~/Dropbox/UMN Postdoc/TeRaBio")
### some possibly needed packages
library(nlme)
library(lme4)
library(car)
library(ggplot2)
library(data.table)
library(gridExtra)
library(RColorBrewer)
### e303
e303 <- read.csv("~/Dropbox/UMN Postdoc/CDR DATA/E303 2018 Mega.csv")
str(e303)
e303$PlotSub <- as.factor(paste0(e303$Plot,e303$Subplot))
e303$Plot <- as.factor(e303$Plot)
e303$DivTrt <- as.factor(e303$NumSp)
e303 <- e303[e303$Year>2016,]
setDT(e303)
e303$L.NA <- ifelse(e303$Legume==0,NA,1)
e303$F.NA <- ifelse(e303$Forb==0,NA,1)
e303$C3.NA <- ifelse(e303$C3==0,NA,1)
e303$C4.NA <- ifelse(e303$C4==0,NA,1)
e303$TotplAGB <- rowSums(e303[,39:57],na.rm=T)
e303$TotplC3 <- rowSums(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata")],na.rm=T)*e303$C3.NA
e303$TotplC4 <- rowSums(e303[,c("Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum")],na.rm=T)*e303$C4.NA
e303$TotplL <- rowSums(e303[,c("Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum")],na.rm=T)*e303$L.NA
e303$TotplF <- rowSums(e303[,c("Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],na.rm=T)*e303$F.NA
e303$PropplC3 <- rowSums(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata")],na.rm=T)*e303$C3.NA/e303$TotplAGB
e303$PropplC4 <- rowSums(e303[,c("Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum")],na.rm=T)*e303$C4.NA/e303$TotplAGB
e303$PropplL <- rowSums(e303[,c("Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum")],na.rm=T)*e303$L.NA/e303$TotplAGB
e303$PropplF <- rowSums(e303[,c("Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],na.rm=T)*e303$F.NA/e303$TotplAGB
rowSums(e303[,c("PropplC3","PropplC4","PropplL","PropplF")],na.rm=T)
hist(e303$TotplAGB)
ggplot(e303,aes(DivTrt,TotplAGB,color=Trtmt,group=Trtmt))+geom_point()+geom_line(stat="summary")+facet_grid(1~Year)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
ggplot(e303,aes(DivTrt,TotplAGB,color=Trtmt,group=Trtmt))+geom_line(stat="summary")+facet_grid(1~Year)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
mod <- lme(TotplAGB~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303)
summary(mod)
Anova(mod)
#16 sp for changing proportions
e30316 <- e303[e303$NumSp==16,]
e30316$Plot<-factor(e30316$Plot)
e30316$PlotSub<-factor(e30316$PlotSub)
mod <- lme(PropplC3~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
mod <- lme(PropplC3~(Year+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC4~(Year+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(Year+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(Year+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(Year+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplF~(Year+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC3~(Year+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC4~(Year+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(Year+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplF~(Year+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC3~(Year+HeatTreatment*WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC4~(Year+HeatTreatment*WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(Year+HeatTreatment*WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplF~(Year+HeatTreatment*WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
e303not1 <- e303[!e303$NumSp==1,]
e303not1$Plot<-factor(e303not1$Plot)
e303not1$PlotSub<-factor(e303not1$PlotSub)
mod <- lme(PropplC3~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1)
e303not1$PropplC3
mod <- lme(PropplC4~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1)
summary(mod)
mod <- lme(PropplC4~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1)
mod <- lme(PropplC3~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
mod <- lme(PropplC3~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(PropplC4~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(PropplF~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
plsp_cols <- c("Achillea.millefolium.lanulosa.","Agropyron.smithii","Amorpha.canescens", "Andropogon.gerardi","Asclepias.tuberosa","Elymus.canadensis","Koeleria.cristata","Lespedeza.capitata","Liatris.aspera","Lupinus.perennis","Monarda.fistulosa","Panicum.virgatum","Petalostemum.purpureum","Poa.pratensis","Schizachyrium.scoparium","Solidago.rigida","Sorghastrum.nutans")
e303long <- melt(e303[,c(1:34,39:60)],measure=list(plsp_cols),variable.name = "SpID",value.name = "SpBiomass")
e303long <- e303long[!is.na(e303long$SpBiomass),]
ggplot(e303long,aes(NumSp,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Trtmt")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))
dfsum <- e303long[,.(meanSP=mean(SpBiomass,na.rm=T),meanAGB=mean(TotplAGB,na.rm=T)),by=.(SpID,Trtmt,HeatTreatment,WaterTreatment,NumSp,Year)]
dfsum$SpIDsort <- factor(dfsum$SpID,levels=c("Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa","Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata","Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum","Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum"))
ggplot(dfsum[dfsum$NumSp==16,],aes(Trtmt,meanSP,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Year")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+scale_fill_manual(values=c("blue","green","purple","darkgreen","blue","green","green","purple","blue","purple","blue","darkgreen","purple","green","darkgreen","blue","darkgreen"))
dfsum <- e303long[,.(meanSP=mean(SpBiomass,na.rm=T),meanAGB=mean(TotplAGB,na.rm=T)),by=.(SpID,Trtmt,HeatTreatment,WaterTreatment,NumSp,Year)]
names(e303)
e303long <- melt(e303[,c(1:34,39:64)],measure=list(plsp_cols),variable.name = "SpID",value.name = "SpBiomass")
e303long <- e303long[!is.na(e303long$SpBiomass),]
ggplot(e303long,aes(NumSp,SpBiomass,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Trtmt")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))
dfsum <- e303long[,.(meanSP=mean(SpBiomass,na.rm=T),meanAGB=mean(TotplAGB,na.rm=T)),by=.(SpID,Trtmt,HeatTreatment,WaterTreatment,NumSp,Year)]
dfsum$SpIDsort <- factor(dfsum$SpID,levels=c("Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa","Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata","Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum","Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum"))
ggplot(dfsum[dfsum$NumSp==16,],aes(Trtmt,meanSP,group=SpID,color=SpID,fill=SpID))+geom_col()+facet_wrap(facets="Year")+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+scale_fill_manual(values=c("blue","green","purple","darkgreen","blue","green","green","purple","blue","purple","blue","darkgreen","purple","green","darkgreen","blue","darkgreen"))
ggplot(dfsum[dfsum$NumSp==16,],aes(Year,meanSP,group=SpIDsort,fill=SpIDsort))+geom_col(color="black")+facet_grid(HeatTreatment~WaterTreatment)+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+scale_fill_manual(values=c(rep("blue",5),rep("green",4),rep("purple",4),rep("darkgreen",4)))
ggplot(dfsum[dfsum$NumSp==16,],aes(Trtmt,meanSP,group=SpIDsort,fill=SpIDsort))+geom_col(color="black")+facet_grid(1~Year)+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+scale_fill_manual(values=c(rep("blue",5),rep("green",4),rep("purple",4),rep("darkgreen",4)))
ggplot(dfsum[dfsum$NumSp==16,],aes(HeatTreatment,meanSP,group=SpIDsort,fill=SpIDsort))+geom_col(color="black")+facet_grid(WaterTreatment~Year)+scale_color_manual(values=c("white","black","white","black","white","black","white","black","white","black","white","black","white","black","white","black","white"))+scale_fill_manual(values=c(rep("blue",5),rep("green",4),rep("purple",4),rep("darkgreen",4)))
mod <- lme(Lespedeza.capitata~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
Anova(mod)
mod <- lme(Lupinus.perennis~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Petalostemum.purpureum~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Amorpha.canescens~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
mod <- lme(Amorpha.canescens~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Lespedeza.capitata~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
mod <- lme(Lespedeza.capitata~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
mod <- lme(Lespedeza.capitata~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Lupinus.perennis~(Year+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
hist(e303$Lupinus.perennis)
min(e303$Year)+1
e303$Year-min(e303$Year)+1
e303$ExpYear <- e303$Year-min(e303$Year)+1
e303$L.NA <- ifelse(e303$Legume==0,NA,1)
e303$F.NA <- ifelse(e303$Forb==0,NA,1)
e303$C3.NA <- ifelse(e303$C3==0,NA,1)
e303$C4.NA <- ifelse(e303$C4==0,NA,1)
mod <- lme(Lespedeza.capitata~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Lupinus.perennis~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Lespedeza.capitata~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Lupinus.perennis~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Petalostemum.purpureum~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Lupinus.perennis~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Petalostemum.purpureum~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Amorpha.canescens~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
#FORBS
mod <- lme(Achillea.millefolium.lanulosa.~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Asclepias.tuberosa~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
mod <- lme(Solidago.rigida~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Liatris.aspera~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Monarda.fistulosa~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
#c3
mod <- lme(Agropyron.smithii~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Poa.pratensis~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Koeleria.cristata~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Elymus.canadensis~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
#c4
mod <- lme(Andropogon.gerardi~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Schizachyrium.scoparium~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Sorghastrum.nutans~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Panicum.virgatum~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
e303$DivPlSp <- apply(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata","Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum","Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum","Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],1,function(x)sum(x != 0))
e303$DivPlSp
e303$DivPlSp <- apply(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata","Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum","Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum","Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],1,function(x)sum(x != 0),na.rm=T)
e303$DivPlSp <- apply(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata","Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum","Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum","Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],1,function(x)sum(x != 0),na.action=na.exclude)
e303$DivPlSp <- apply(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata","Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum","Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum","Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],1,function(x)sum(x != 0,na.rm=T))
e303$DivPlSp
mod <- lme(DivPlSp~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303)
summary(mod)
Anova(mod)
mod <- lme(TotplAGB~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303)
summary(mod)
Anova(mod)
mod <- lme(DivPlSp~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
#16 sp for changing proportions
e30316 <- e303[e303$NumSp==16,]
e30316$Plot<-factor(e30316$Plot)
e30316$PlotSub<-factor(e30316$PlotSub)
mod <- lme(DivPlSp~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
NumSp+
sdfas
mod <- lme(DivPlSp~(ExpYear+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
e303not1 <- e303[!e303$NumSp==1,]
e303not1$Plot<-factor(e303not1$Plot)
e303not1$PlotSub<-factor(e303not1$PlotSub)
mod <- lme(DivPlSp~(ExpYear+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1)
summary(mod)
Anova(mod)
ggplot(e303,aes(DivTrt,DivPlSp,color=Trtmt,group=Trtmt))+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
#### WATER?!?!?
mod <- lme(Liatris.aspera~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(TotplAGB~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303)
summary(mod)
Anova(mod)
ggplot(e303,aes(DivTrt,TotplAGB,color=Trtmt,group=Trtmt))+geom_point()+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
e303$TotplAGB
e303[,39:57]
names(e303)
e303$TotplAGB <- rowSums(e303[,37:57],na.rm=T)
e303$DivPlSp <- apply(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata","Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum","Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum","Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],1,function(x)sum(x != 0,na.rm=T))
e303$TotplC3 <- rowSums(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata")],na.rm=T)*e303$C3.NA
e303$TotplC4 <- rowSums(e303[,c("Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum")],na.rm=T)*e303$C4.NA
e303$TotplL <- rowSums(e303[,c("Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum")],na.rm=T)*e303$L.NA
e303$TotplF <- rowSums(e303[,c("Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],na.rm=T)*e303$F.NA
e303$PropplC3 <- rowSums(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata")],na.rm=T)*e303$C3.NA/e303$TotplAGB
e303$PropplC4 <- rowSums(e303[,c("Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum")],na.rm=T)*e303$C4.NA/e303$TotplAGB
e303$PropplL <- rowSums(e303[,c("Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum")],na.rm=T)*e303$L.NA/e303$TotplAGB
e303$PropplF <- rowSums(e303[,c("Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],na.rm=T)*e303$F.NA/e303$TotplAGB
hist(e303$TotplAGB)
ggplot(e303,aes(DivTrt,TotplAGB,color=Trtmt,group=Trtmt))+geom_point()+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
ggplot(e303,aes(DivTrt,TotplAGB,color=Trtmt,group=Trtmt))+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
ggplot(e303,aes(DivTrt,DivPlSp,color=Trtmt,group=Trtmt))+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
mod <- lme(TotplAGB~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303)
summary(mod)
Anova(mod)
ggplot(e303,aes(DivTrt,TotplAGB,color=Trtmt,group=Trtmt))+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
e303$TotplAGB <- rowSums(e303[,39:57],na.rm=T)
e303$DivPlSp <- apply(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata","Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum","Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum","Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],1,function(x)sum(x != 0,na.rm=T))
e303$TotplC3 <- rowSums(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata")],na.rm=T)*e303$C3.NA
e303$TotplC4 <- rowSums(e303[,c("Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum")],na.rm=T)*e303$C4.NA
e303$TotplL <- rowSums(e303[,c("Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum")],na.rm=T)*e303$L.NA
e303$TotplF <- rowSums(e303[,c("Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],na.rm=T)*e303$F.NA
e303$PropplC3 <- rowSums(e303[,c("Agropyron.smithii","Poa.pratensis", "Elymus.canadensis","Koeleria.cristata")],na.rm=T)*e303$C3.NA/e303$TotplAGB
e303$PropplC4 <- rowSums(e303[,c("Andropogon.gerardi","Schizachyrium.scoparium","Sorghastrum.nutans","Panicum.virgatum")],na.rm=T)*e303$C4.NA/e303$TotplAGB
e303$PropplL <- rowSums(e303[,c("Lespedeza.capitata","Lupinus.perennis","Amorpha.canescens","Petalostemum.purpureum")],na.rm=T)*e303$L.NA/e303$TotplAGB
e303$PropplF <- rowSums(e303[,c("Achillea.millefolium.lanulosa.","Asclepias.tuberosa","Solidago.rigida","Liatris.aspera","Monarda.fistulosa")],na.rm=T)*e303$F.NA/e303$TotplAGB
hist(e303$TotplAGB)
ggplot(e303,aes(DivTrt,TotplAGB,color=Trtmt,group=Trtmt))+geom_point()+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
ggplot(e303,aes(DivTrt,TotplAGB,color=Trtmt,group=Trtmt))+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
ggplot(e303,aes(DivTrt,DivPlSp,color=Trtmt,group=Trtmt))+geom_line(stat="summary")+facet_grid(1~ExpYear)+scale_color_manual(values=c("green","orange","darkgreen","brown"))
mod <- lme(TotplAGB~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303)
summary(mod)
Anova(mod)
mod <- lme(DivPlSp~(ExpYear+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1)
summary(mod)
Anova(mod)
#16 sp for changing proportions
e30316 <- e303[e303$NumSp==16,]
e30316$Plot<-factor(e30316$Plot)
e30316$PlotSub<-factor(e30316$PlotSub)
e303not1 <- e303[!e303$NumSp==1,]
e303not1$Plot<-factor(e303not1$Plot)
e303not1$PlotSub<-factor(e303not1$PlotSub)
mod <- lme(PropplC3~(ExpYear+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC4~(ExpYear+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(ExpYear+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplF~(ExpYear+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC3~(ExpYear+HeatTreatment*WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC4~(ExpYear+HeatTreatment*WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(ExpYear+HeatTreatment*WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplF~(ExpYear+HeatTreatment*WaterTreatment),random=~1|Plot/PlotSub,data=e30316)
summary(mod)
Anova(mod)
mod <- lme(PropplC3~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(PropplC4~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(PropplL~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(PropplF~(ExpYear+NumSp+HeatTreatment+WaterTreatment)^2,random=~1|Plot/PlotSub,data=e303not1,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Lespedeza.capitata~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Lupinus.perennis~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Petalostemum.purpureum~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Amorpha.canescens~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
#FORBS
mod <- lme(Achillea.millefolium.lanulosa.~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
mod <- lme(Solidago.rigida~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
#### WATER?!?!?
mod <- lme(Liatris.aspera~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
?HyperProc
??ortho_fun
library(raster)
extent(SpatialPoints(cbind(1,2))
)
#### this can be run repeatedly to update package
setwd("~/Documents/HyperPackage/HyperProc")
devtools::document()
mod <- lme(Elymus.canadensis~(ExpYear+NumSp+HeatTreatment+WaterTreatment),random=~1|Plot/PlotSub,data=e303,na.action = na.exclude)
summary(mod)
Anova(mod)
